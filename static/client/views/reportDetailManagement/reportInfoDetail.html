<style>
    .content-body {
        color: #333;
    }

    .info_menu {
        width: 100%;
        height: 160px;
        margin: 0;
        padding: 0;

    }

    .info_menu li {
        height: 150px;
        float: left;
        border: 1px solid #ddd;
        width: 25%;
        list-style-type: none;
        border-left: 0;
    }

    .info_menu_top {
        height: 40px;
        background: #f5f5f5;
        width: 100%;
        text-align: center;
        line-height: 25px;
        color: #333;
    }

    .menu_img {
        width: 40px;
        height: 40px;
        border-radius: 50px;
        border: 2px solid #ddd;
        margin: auto;
        background: #fff;
        line-height: 35px;
        font-size: 20px;
        color: #ddd;
    }

    .info_menu_title {
        width: 150px;
        margin: auto;
        text-align: left;

    }

    .fz-20 {
        font-size: 18px;
        color: #fff;
    }

    .bodyTitle {
        background: #fff;
        border: 0;
        border-bottom: 1px solid #ccc;
        cursor: pointer;
    }

    .is_show {
        display: none;
    }

    .glyphicon {
        color: #ccc;
    }
</style>


<div class="content-body" style="margin:0 ;">
    <div style="width:100%;margin:auto;height:60px;text-align: center;overflow: hidden;text-align: center">
        <div style="width:300px;margin:auto;float:left;margin-left:400px;">
            <span style="font-size: 20px">{{server}}的巡检报告</span><br>
            <span>（{{when_created}}）</span>
        </div>
        <div style="width:100px;height:100px;float:right;">
            <button class="btn btn-primary btn-sm" onclick="javascript :history.go(-1);" style="background:rgb(108,153,229);border:0;font-size:15px;">
                <i class="fa fa-mail-forward"></i>返回
            </button>
        </div>
    </div>
    <div style="width:100%;margin:auto;margin-bottom: 0px;" id="bodyTop">
        <ul class="info_menu">
            <li style="background:rgb(108,153,229)">
                <div style="margin:30px auto;width:100%;text-align: center">
                    <i class="fa fa-desktop" style="font-size: 60px;color:#fff;"></i>
                    <div class="fz-20">
                        {{server}}<!--的巡检报告<br>
                         <span style="font-size:14px;">（{{when_created}}）</span>-->
                    </div>
                </div>
            </li>
            <li>
                <div class="info_menu_top">
                    <span>运行状态</span>
                    <div class="menu_img">
                        <i class="fa fa-refresh"></i>
                    </div>
                    <div class="info_menu_title">
                        <div ng-if="errors.sys_error.partition!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.sys_error.partition}}</i></div>
                        <div ng-if="errors.sys_error.partition==''"><i class="fa fa-check-circle" style="color:#46C017">磁盘空间充足</i></div>
                        <div ng-if="errors.sys_error.service!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.sys_error.service}}</i></div>
                        <div ng-if="errors.sys_error.service==''"><i class="fa fa-check-circle" style="color:#46C017;">系统服务正常</i></div>
                    </div>
                </div>
            </li>
            <li>
                <div class="info_menu_top">
                    <span>错误日志</span>
                    <div class="menu_img">
                        <i class="fa fa-file-excel-o"></i>
                    </div>
                    <div class="info_menu_title">
                        <div ng-if="errors.log_error.syserr!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.log_error.syserr}}</i></div>
                        <div ng-if="errors.log_error.syserr==''"><i class="fa fa-check-circle" style="color:#46C017;">系统错误日志</i></div>
                        <div ng-if="errors.log_error.apperr!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.log_error.apperr}}</i></div>
                        <div ng-if="errors.log_error.apperr==''"><i class="fa fa-check-circle" style="color:#46C017;">应用程序错误日志</i></div>
                    </div>
                </div>
            </li>
            <li>
                <div class="info_menu_top">
                    <span>性能</span>
                    <div class="menu_img">
                        <i class="fa fa-line-chart"></i>
                    </div>
                    <div class="info_menu_title" style="text-align: center">
                        <div ng-if="errors.performance_error.cpu_performance!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.performance_error.cpu_performance}}</i></div>
                        <div ng-if="errors.performance_error.cpu_performance==''"><i class="fa fa-check-circle" style="color:#46C017;">CPU性能良好</i></div>
                        <div ng-if="errors.performance_error.memory_performance!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.performance_error.memory_performance}}</i></div>
                        <div ng-if="errors.performance_error.memory_performance==''"><i class="fa fa-check-circle" style="color:#46C017;">内存性能良好</i></div>
                        <div ng-if="errors.performance_error.disk_performance!=''"><i class="fa fa-info-circle" style="color:#ff675d;">{{errors.performance_error.disk_performance}}</i></div>
                        <div ng-if="errors.performance_error.disk_performance==''"><i class="fa fa-check-circle" style="color:#46C017;">磁盘性能良好</i></div>
                    </div>
                </div>
            </li>
        </ul>
    </div>

    <div style="width:100%;margin:auto;">
        <div class="bodyTitle" ng-if="partition.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i> 磁盘分区信息
        </div>
        <table style="width:100%;" class="table table-bordered is_show" ng-if="partition.length>0">
            <tr>
                <th style="width:20%">分区名称</th>
                <th style="width:30%">分区大小（GB）</th>
                <th style="width:20%">剩余空间（GB）</th>
                <th style="width:30%">剩余空间比（%）</th>
            </tr>
            <tr ng-repeat="i in partition">

                <td ng-bind="i.data[0].value"></td>
                <td ng-bind="i.data[1].value"></td>
                <td ng-bind="i.data[2].value"></td>
                <td ng-class="{true:'td_warn'}[i.data[3].is_warn]" ng-bind="i.data[3].value"></td>
            </tr>
        </table>

        <!--系统异常服务-->
        <div class="bodyTitle" ng-if="service.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            系统异常服务
        </div>
        <table style="width:100%;" class="table table-bordered is_show" ng-if="service.length>0">
            <tr>
                <th>服务名称</th>
                <th style="width:150px">启动模式</th>
                <th style="width:150px">运行状态</th>
                <!--<th style="width:150px">健康状态</th>-->
            </tr>
            <tr ng-repeat="i in service">
                <td><span class="table-span" ng-bind="i.data[0].value"></span></td>
                <td ng-bind="i.data[1].value"></td>
                <td class="td_warn" ng-bind="i.data[2].value"></td>
                <!--<td ng-bind="i.data[3].value"></td>-->
            </tr>
        </table>

        <!--CPU性能-->
        <div class="bodyTitle" ng-if="cpu_performance.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            CPU性能
        </div>
        <table style="width:100%;" class="table table-bordered is_show" ng-repeat="i in cpu_performance">
            <tr ng-repeat="info in i.data">
                <th style="width:35%;">{{info.cn_name}}</th>
                <td style="width:15%;" ng-class="{true:'td_warn'}[info.is_warn]">{{info.value}}</td>
                <td ng-if="info.is_warn">{{info.description}}</td>
                <td ng-if="!info.is_warn"><i class="fa fa-check-circle" style="color:#46C017"></i>正常</td>
            </tr>
        </table>
        <div class="bodyTitle" ng-if="memory_performance.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            内存性能
        </div>
        <table style="width:100%;" class="table table-bordered is_show" ng-repeat="i in memory_performance">
            <tr ng-repeat="info in i.data">
                <th style="width:35%;">{{info.cn_name}}</th>
                <td style="width:15%;" ng-class="{true:'td_warn'}[info.is_warn]">{{info.value}}</td>
                <td ng-if="info.is_warn">{{info.description}}</td>
                <td ng-if="!info.is_warn"><i class="fa fa-check-circle" style="color:#46C017"></i>正常</td>
            </tr>
        </table>

        <!--磁盘性能-->
        <div class="bodyTitle" ng-if="disk_performance.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            磁盘性能
        </div>
        <table style="width:100%;" class="table table-bordered is_show" ng-repeat="i in disk_performance">
            <tr ng-repeat="info in i.data">
                <th style="width:35%;">{{info.cn_name}}</th>
                <td style="width:15%;" ng-class="{true:'td_warn'}[info.is_warn]">{{info.value}}</td>
                <td ng-if="info.is_warn">{{info.description}}</td>
                <td ng-if="!info.is_warn"><i class="fa fa-check-circle" style="color:#46C017"></i>正常</td>
            </tr>
        </table>

        <!--近7天系统错误日志-->
        <div class="bodyTitle" ng-if="syserr.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            近7天系统错误日志
        </div>
        <div style="width:100%;" class="div-table is_show" ng-if="syserr.length>0">
            <div class="div-tr">
                <div class="div-th" style="width:15%">事件ID</div>
                <div class="div-th" style="width:30%">来源</div>
                <div class="div-th" style="width:15%">类型</div>
                <div class="div-th" style="width:12%">出现次数</div>
                <div class="div-th" style="width:28%">最近一次出现时间</div>
            </div>
            <div style="width:100%;">
                <div class="div-tr" ng-repeat="i in syserr">
                    <div class="div-td" style="width:15%" ng-bind="i.data[0].value"></div>
                    <div class="div-td" style="width:30%" ng-title="{{i.data[1].value}}" ng-bind="i.data[1].value"></div>
                    <div class="div-td" style="width:15%" ng-bind="i.data[2].value"></div>
                    <div class="div-td" style="width:12%" ng-bind="i.data[3].value"></div>
                    <div class="div-td" style="width:28%" ng-bind="i.data[4].value"></div>
                </div>
            </div>
        </div>

        <!--近7天应用程序错误日志-->
        <div class="bodyTitle" ng-if="apperr.length>0" ng-click="show($event)">
            <i class="glyphicon glyphicon-menu-right"></i>
            近7天应用程序错误日志
        </div>
        <div style="width:100%;" class="div-table is_show " ng-if="apperr.length>0">
            <div class="div-tr">
                <div class="div-th" style="width:15%">事件ID</div>
                <div class="div-th" style="width:30%">来源</div>
                <div class="div-th" style="width:15%">类型</div>
                <div class="div-th" style="width:12%">出现次数</div>
                <div class="div-th" style="width:28%">最近一次出现时间</div>
            </div>
            <div style="width:100%;">
                <div class="div-tr" ng-repeat="i in apperr">
                    <div class="div-td" style="width:15%" ng-bind="i.data[0].value"></div>
                    <div class="div-td" style="width:30%" ng-title="{{i.data[1].value}}" ng-bind="i.data[1].value"></div>
                    <div class="div-td" style="width:15%" ng-bind="i.data[2].value"></div>
                    <div class="div-td" style="width:12%" ng-bind="i.data[3].value"></div>
                    <div class="div-td" style="width:28%" ng-bind="i.data[4].value"></div>
                </div>
            </div>
        </div>
        <div style="margin-top:100px;">

        </div>
    </div>
</div>
